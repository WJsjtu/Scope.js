"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,t){function n(e){if(t.HTMLElement||t.Element){var n=t.HTMLElement?t.HTMLElement:t.Element;return e instanceof n}return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&1===e.nodeType&&"object"===_typeof(e.style)&&"object"===_typeof(e.ownerDocument)}function r(e){if("function"!=typeof e.render)throw new TypeError("Render function not defined!");this.context=e}function o(e,t,n,r,o){var f=this;f.tagName=e,f.props=t,f.children=n,f.events=r,f.ref=o}function f(t,n,o,f,i){var a=this;a.$ele=t,i&&(a.refs=i.refs),a.updateProps=function(){t.attr(n.props)},a.update=function(){var e=function(e,n,r){-1==u.indexOf(e.tagName)&&!function(){var o={},f=l(e.children,r,o);t.empty(),f.forEach(function(e){"string"==typeof e?t.text(t.text()+e):t.append(e)}),Object.keys(n).forEach(function(e){o[e]?n[e]=o[e]:o[e]=n[e]})}()};"string"==typeof n.tagName?e(n,f,o):n.tagName instanceof r&&i&&e(i.element,i.refs,i.context)},n.tagName instanceof r&&i&&(a.render=function(){var r=e.extend({},i.context,{props:n.props}),o=r.render.bind(r)(),f={},c={list:[]};s(o,t,r,f);var u=l(o.children,r,f,c);a.refs=f,i.refs=f,i.element=o,i.context=r,t.empty(),u.forEach(function(e){"string"==typeof e?t.text(t.text()+e):t.append(e)});for(var p=c.list.length-1;p>=0;p--)c.list[p]()})}function i(e,t,n){var r=this;r.refs=e,r.owner=t,r.$ele=n}var a=".scope",c=function(e){return e.replace(/[<>&"]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})},u="br hr img map area base input".split(" "),p=i.prototype;p.getTarget=function(e){return e=e||t.event,e.target?e.target:e.srcElement},p.preventDefault=function(e){e=e||t.event,e.preventDefault?e.preventDefault():e.returnValue=!1},p.stopPropagation=function(e){e=e||t.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};var s=function(t,n,r,o){Object.keys(t.events).forEach(function(c){var u=t.events[c],p=new f(n,t,r,o);"function"==typeof u?n.on(c+a,function(e){u.bind(r)(new i(o,p,n),e)}):"object"==("undefined"==typeof u?"undefined":_typeof(u))&&Object.keys(u).forEach(function(t){n.on(c+a,t,function(n){u[t].bind(r)(new i(o,p,e(this)),n)})})})},l=function m(t,n,i,a){var c=[];return t.forEach(function(t){if(!t)return!1;if("function"==typeof t&&(t=t.bind(n)()),Array.isArray(t))return Array.prototype.push.apply(c,m(t,n,i,a)),!0;if("object"!=("undefined"==typeof t?"undefined":_typeof(t)))return c.push(""+t),!0;if(!(t instanceof o))return!1;if("string"==typeof t.tagName)!function(){var r=e(document.createElement(t.tagName));if(t.props&&r.attr(t.props),s(t,r,n,i),t.ref&&(i[t.ref]=new f(r,t,n,i)),-1==u.indexOf(t.tagName)){var o=m(t.children,n,i,a);o.forEach(function(e){"string"==typeof e?r.text(r.text()+e):r.append(e)})}c.push(r)}();else{if(!(t.tagName instanceof r))return!1;var p=d(t.tagName,t.props,a);t.ref&&(i[t.ref]=new f(p.$ele,t,n,i,p)),c.push(p.$ele)}}),c},d=function(t,n,r){var f=e.extend({},t.context,{props:n});"function"==typeof f.beforeMount&&f.beforeMount.bind(f)();var i=f.render.bind(f)();if(null==i)return null;if(!(i instanceof o))return null;var a={},c=e(document.createElement(i.tagName));i.props&&c.attr(i.props),s(i,c,f,a);var u=l(i.children,f,a,r);u.forEach(function(e){"string"==typeof e?c.text(c.text()+e):c.append(e)});var p={$ele:c,refs:a,element:i,context:f,callbacks:r};return"function"==typeof f.afterMount&&r&&Array.isArray(r.list)&&r.list.push(f.afterMount.bind(f,p)),p},y={createClass:function(e){return new r(e)},createElement:function(){var e=Array.prototype.slice.call(arguments,0),t=e.splice(0,2),n=t[0],f=t[1],i=e,a={},u={},p=null;return f&&("string"==typeof n?Object.keys(f).forEach(function(e){var t=""+e,n=f[e];"ref"==t?p=c(""+n):t.startsWith("on")?!n||"function"!=typeof n&&"object"!=("undefined"==typeof n?"undefined":_typeof(n))||(u[t.replace(/^on/,"").toLowerCase()]=n):a[t]=n}):n instanceof r&&Object.keys(f).forEach(function(e){var t=""+e,n=f[e];"ref"==t?p=c(""+n):a[t]=n})),new o(n,a,i,u,p)},render:function(i,a,c){if(!(i instanceof o))throw new TypeError("Render function should return element!");if(!a instanceof t.jQuery&&!n(a))throw new TypeError("Render function should receive a DOM!");if(n(a)&&(a=e(a)),i.tagName instanceof r){var u={list:[]},p=d(i.tagName,i.props,u);a.empty().append(p.$ele);for(var s=u.list.length-1;s>=0;s--)u.list[s]();return new f(p.$ele,i,c,p.refs,p)}var l=void 0,m={};"object"==("undefined"==typeof c?"undefined":_typeof(c))?(l=y.createClass({render:function(){return i}.bind(c)}),m=c):(m={render:function(){return i}},l=y.createClass(m));var v={list:[]},h=d(l,i.props,v);a.empty().append(h.$ele);for(var b=v.list.length-1;b>=0;b--)v.list[b]();return new f(h.$ele,i,m,h.refs,h)}};t.Scope=y}(jQuery,window);