"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,t){function n(e){if(!f(e.render))throw new TypeError("Render function not defined!");this.context=e}function r(e,t,n,r,o){var a=this;a.tagName=e,a.props=t,a.children=n,a.events=r,a.ref=o}var o=".scope",a="scopeDataKey",f=function(e){return"function"==typeof e},i=function(e){return"string"==typeof e},u=function(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))},c=function(e){if(t.HTMLElement||t.Element){var n=t.HTMLElement?t.HTMLElement:t.Element;return e instanceof n}return u(e)&&1===e.nodeType&&u(e.style)&&u(e.ownerDocument)},p=function(e){return e.replace(/[<>&"]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]})},s="br hr img map area base input".split(" "),l=function y(t,o,c,p,l){var m=[];return t.forEach(function(t){if(!t)return!1;if(f(t)&&(t=t.call(o)),Array.isArray(t))return Array.prototype.push.apply(m,y(t,o,c,p,l)),!0;if(!u(t))return m.push(""+t),!0;if(!(t instanceof r))return!1;if(i(t.tagName))!function(){var n=e(document.createElement(t.tagName)),r={element:t,context:o,refs:c};r.updateProps=function(){t.props&&n.attr(t.props)},r.updateProps(),n.data(a,r),d(n),t.ref&&(c[t.ref]=n);var f=function(e,r){if(-1==s.indexOf(t.tagName)){var a=y(t.children,o,c,e,r);a.forEach(function(e){i(e)?n.text(n.text()+e):n.append(e)})}};f(p,l),r.update=function(){n.empty();var e={list:[]};f(e,!0);for(var t=e.list.length-1;t>=0;t--)e.list[t]();e.list=[]},m.push(n)}();else{if(!(t.tagName instanceof n))return!1;var h=v(t,o,c,p,l);t.ref&&(c[t.ref]=h),m.push(h)}}),m},d=function(t){var n=t.data(a),r=n.element,i=n.context;for(var c in r.events)r.events.hasOwnProperty(c)&&!function(){var n=r.events[c];if(f(n))t.on(c+o,function(e){n.call(i,t,e)});else if(u(n)){var a=function(r){n.hasOwnProperty(r)&&t.on(c+o,r,function(t){n[r].call(i,e(this),t)})};for(var p in n)a(p)}}()},v=function h(t,o,u,c,p){var s=e.extend({},t.tagName.context,{props:e.extend({},t.props)});for(var v in s.props)s.props.hasOwnProperty(v)&&f(s.props[v])&&(s.props[v]=s.props[v].bind(o));f(s.beforeMount)&&s.beforeMount.call(s);var m=s.render.call(s);if(!(m&&m instanceof r))return null;var y={};if(!i(m.tagName)){if(m.tagName instanceof n){var g=h(m,s,y,c,p);return m.ref&&(y[m.ref]=g),g}return null}var b=function(){var n=e(document.createElement(m.tagName)),r={element:m,context:s,refs:y,component:{context:o,element:t,refs:u}};r.updateProps=function(){m.props&&n.attr(m.props)},r.updateProps(),n.data(a,r);var v=function(e,t){var r=l(m.children,s,y,e,t);r.forEach(function(e){i(e)?n.text(n.text()+e):n.append(e)})};return v(c,p),r.update=function(){n.empty();var e={list:[]};v(e,!0);for(var t=e.list.length-1;t>=0;t--)e.list[t]();e.list=[],f(s.afterUpdate)&&s.afterUpdate.call(s,n)},d(n),c&&Array.isArray(c.list)&&(f(s.afterMount)&&!p&&c.list.push(s.afterMount.bind(s,n)),f(s.afterUpdate)&&p&&c.list.push(s.afterUpdate.bind(s,n))),m.ref&&(y[m.ref]=n),{v:n}}();return"object"===("undefined"==typeof b?"undefined":_typeof(b))?b.v:void 0},m={createClass:function(e){return new n(e)},createElement:function(){var e=Array.prototype.slice.call(arguments,0),t=e.splice(0,2),o=t[0],a=t[1],c=e,s={},l={},d=null;if(a&&(i(o)||o instanceof n))for(var v in a)if(a.hasOwnProperty(v)){var m=""+v,y=a[v];"ref"==m?d=p(""+y):m.match(/^on/)&&i(o)?y&&(f(y)||u(y))&&(l[m.replace(/^on/,"").toLowerCase()]=y):s[m]=y}return new r(o,s,c,l,d)},render:function(t,o,a){if(!(t instanceof r))throw new TypeError("Component's render function should return a single root element (not null)!");if(!o instanceof e&&!c(o))throw new TypeError("Scope.render should mount element on a DOM or a jQuery Object!");c(o)&&(o=e(o));var f={list:[]},i=t.tagName instanceof n?t:function(){var e=m.createClass({render:u(a)?function(){return t}.bind(a):function(){return t}});return m.createElement(e,null)}(),p=v(i,a,{},f,!1);o.empty().append(p);for(var s=f.list.length-1;s>=0;s--)f.list[s]();return f.list=[],p}};m.utils={getTarget:function(e){return e=e||t.event,e.target?e.target:e.srcElement},preventDefault:function(e){e=e||t.event,e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(e){e=e||t.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getRefs:function(t){if(!(t instanceof e))return{};var n=t.data(a);return n.refs?n.refs:{}},update:function(t){if(t instanceof e){var n=t.data(a);f(n.update)&&n.update(!0)}},updateProps:function(t){if(t instanceof e){var n=t.data(a);f(n.updateProps)&&n.updateProps()}},execute:function(){var t=Array.prototype.slice.call(arguments,0),n=t.splice(0,2),r=n[0],o=""+n[1];if(r instanceof e&&o){var i=r.data(a);u(i.context)&&f(i.context[o])&&i.context[o].apply(i.context,t)}}},t.Scope=m}(jQuery,window);