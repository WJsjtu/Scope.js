const List = Scope.createClass({
    data: [],
    getRandom: function () {
        this.data = [];
        for (let i = 0; i < 20; i++) {
            this.data.push(Math.random());
        }
    },
    generate: function ($handler, event) {
        $handler.stopPropagation(event);
        this.getRandom();
        $handler.refs.ul2.update();
    },
    onActive: {
        'li': function ($handler, event) {
            $handler.stopPropagation(event);
            $handler.owner.$ele.find('li.active').removeClass('active');
            $handler.$ele.addClass('active');
        }
    },
    getList: function () {
        return this.data.map(function (ele) {
            return <li onClick={function(){
                console.log(ele);
            }}>{ele}</li>;
        });
    },
    render: function () {
        const me = this;
        me.getRandom();
        return (
            <div>
                <a onClick={me.generate}>{me.props.label || 'update right list'}</a>
                <div>
                    <ul ref="ul1" style="display:inline-block;list-style:none;*zoom:1;*display:inline;"
                        onClick={me.onActive}>
                        {me.getList()}
                    </ul>
                    <ul ref="ul2" style="display:inline-block;list-style:none;*zoom:1;*display:inline;"
                        onClick={me.onActive}>
                        {me.getList}
                    </ul>
                </div>
            </div>
        );
    }
});

Scope.render(<List />, mountNode);